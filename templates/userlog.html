{% extends "base.html" %} {% block title %}Upload · Dental Cavity Detection{%
endblock %} {% block content %}
<section class="hero text-center">
  <p class="badge-soft text-uppercase">Clinical workspace</p>
  <h1 class="mb-3">Analyze an image with AI</h1>
  <p class="mx-auto" style="max-width: 640px">
    Drop an intraoral photo or bitewing X-ray, then sit back while our model
    runs multi-step preprocessing and inference.
  </p>
  <div class="d-flex flex-wrap justify-content-center gap-3 mt-4">
    <a class="btn btn-gradient" href="{{ url_for('home') }}"
      >Back to dashboard</a
    >
    <a class="btn btn-outline-light px-4" href="{{ url_for('graph') }}"
      >See training graphs</a
    >
  </div>
</section>

<div class="row g-4 align-items-stretch">
  <div class="col-lg-7">
    <div class="card-glass p-4 h-100">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="mb-0">Upload an image</h3>
        <span class="badge-soft">Step 1</span>
      </div>
      <p class="text-muted small">
        Accepted formats: PNG, JPG, JPEG · Recommended resolution ≥ 224px.
      </p>
      <form
        action="{{ url_for('predict') }}"
        method="POST"
        enctype="multipart/form-data"
        class="mt-4"
      >
        <div class="upload-zone mb-3">
          <label for="file">
            <i class="bi bi-cloud-arrow-up"></i>
            Choose file
          </label>
          <input
            type="file"
            id="file"
            name="filename"
            accept="image/*"
            required
          />
          <p class="text-muted small mt-3 mb-0">
            Drag & drop is supported on desktop.
          </p>
        </div>
        <button type="submit" class="btn btn-gradient w-100">
          Analyze image
        </button>
      </form>
    </div>
  </div>

  <div class="col-lg-5">
    <div class="card-glass p-4 h-100">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="mb-0">What happens next?</h3>
        <span class="badge-soft">Workflow</span>
      </div>
      <ul class="list-unstyled d-flex flex-column gap-3 mb-0">
        <li class="d-flex gap-3">
          <div class="feature-icon flex-shrink-0">
            <i class="bi bi-magic"></i>
          </div>
          <div>
            <h6 class="mb-1">Smart preprocessing</h6>
            <p class="text-muted small mb-0">
              We auto-generate grayscale, edges, threshold, and sharpening
              views.
            </p>
          </div>
        </li>
        <li class="d-flex gap-3">
          <div class="feature-icon flex-shrink-0">
            <i class="bi bi-cpu"></i>
          </div>
          <div>
            <h6 class="mb-1">ResNet50 inference</h6>
            <p class="text-muted small mb-0">
              Fine-tuned model assigns one of four cavity stages with
              confidence.
            </p>
          </div>
        </li>
        <li class="d-flex gap-3">
          <div class="feature-icon flex-shrink-0">
            <i class="bi bi-clipboard-check"></i>
          </div>
          <div>
            <h6 class="mb-1">Clinical guidance</h6>
            <p class="text-muted small mb-0">
              We surface treatments, recommendations, and follow-up plans.
            </p>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
{% endblock %}
