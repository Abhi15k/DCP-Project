{% extends "base.html" %} {% block title %}Prediction Results · Dental AI{%
endblock %} {% block content %} {% if msg %}
<div class="alert alert-warning card-glass border-0">
  <strong>Warning:</strong> {{ msg }}
</div>
{% endif %} {% if status %}
<section class="hero text-center">
  <p class="badge-soft text-uppercase">Prediction complete</p>
  <h1 class="mb-3">{{ status }}</h1>
  <p class="mx-auto" style="max-width: 720px">{{ status2 }} · {{ spread }}</p>
  <div class="d-flex flex-wrap justify-content-center gap-3 mt-4">
    <a class="btn btn-gradient" href="{{ url_for('predict') }}"
      >Analyze another image</a
    >
    <a class="btn btn-outline-light px-4" href="{{ url_for('graph') }}"
      >Training insights</a
    >
    <a class="btn btn-outline-light px-4" href="{{ url_for('logout') }}"
      >Logout</a
    >
  </div>
</section>

{% if ImageDisplay %}
<div class="row g-4 align-items-stretch mb-4">
  <div class="col-lg-7">
    <div class="card-glass p-3 p-lg-4 h-100 focus-card">
      <div class="d-flex justify-content-between align-items-center">
        <div>
          <p class="badge-soft text-uppercase small mb-2">Selected image</p>
          <h4 class="mb-0">{{ uploaded_filename or 'Uploaded image' }}</h4>
        </div>
        <span class="badge bg-success-subtle text-success">Preview</span>
      </div>
      <img
        src="{{ ImageDisplay }}"
        alt="Selected dental image"
        class="selected-image mt-3"
      />
    </div>
  </div>
  <div class="col-lg-5">
    <div class="stats-card h-100">
      <p class="metric-label">Predicted stage</p>
      <p class="metric-value">{{ status }}</p>
      <p class="mb-1">{{ status2 }}</p>
      <p class="text-muted small">{{ spread }}</p>
      <hr class="border-secondary opacity-25" />
      <p class="small text-uppercase text-muted mb-1">Next actions</p>
      <ul class="ps-3 small mb-0 text-muted">
        <li>Review the guidance below</li>
        <li>Discuss results with your dental professional</li>
        <li>Store this snapshot for patient history</li>
      </ul>
    </div>
  </div>
</div>
{% endif %} {% set derived_gallery = [ ("Grayscale", ImageDisplay1), ("Edge
detection", ImageDisplay2), ("Threshold", ImageDisplay3), ("Sharpened",
ImageDisplay4), ("Confidence by class", ImageDisplay5) ] %}

<div class="row g-4">
  {% for title, src in derived_gallery %} {% if src %}
  <div class="col-md-6 col-lg-4">
    <div class="card-glass results-card p-3 h-100">
      <h6 class="text-uppercase small text-muted">{{ title }}</h6>
      <img src="{{ src }}" alt="{{ title }}" class="img-fluid" loading="lazy" />
    </div>
  </div>
  {% endif %} {% endfor %}
</div>

<div class="row g-4 mt-2">
  <div class="col-lg-4">
    <div class="stats-card h-100">
      <p class="metric-label">Status</p>
      <p class="metric-value">{{ status }}</p>
      <p class="mb-1">{{ status2 }}</p>
      <p class="text-muted small mb-0">{{ spread }}</p>
    </div>
  </div>
  <div class="col-lg-8">
    <div class="row g-3">
      <div class="col-md-4">
        <div class="feature-card h-100">
          <h6 class="text-uppercase small text-muted">{{ Treatment }}</h6>
          <ul class="ps-3 small mb-0">
            {% for item in Treatment1 %}
            <li>{{ item }}</li>
            {% endfor %}
          </ul>
        </div>
      </div>
      <div class="col-md-4">
        <div class="feature-card h-100">
          <h6 class="text-uppercase small text-muted">{{ Recommendation }}</h6>
          <ul class="ps-3 small mb-0">
            {% for item in Recommendation1 %}
            <li>{{ item }}</li>
            {% endfor %}
          </ul>
        </div>
      </div>
      <div class="col-md-4">
        <div class="feature-card h-100">
          <h6 class="text-uppercase small text-muted">{{ FollowUp }}</h6>
          <ul class="ps-3 small mb-0">
            {% for item in FollowUp1 %}
            <li>{{ item }}</li>
            {% endfor %}
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
{% else %}
<div class="card-glass p-5 text-center">
  <h2 class="mb-3">No prediction yet</h2>
  <p class="text-muted mb-4">
    Upload an image first to see AI-generated results and recommendations.
  </p>
  <a class="btn btn-gradient" href="{{ url_for('predict') }}">Go to upload</a>
</div>
{% endif %} {% endblock %}
